pour tester les mails en local
    dans un terminal, lancer le programme :
    (--web 1080 le port pour lire les mails
    --smtp 1025 le port pour envoyer les mails
    --hide-extensions STARTTLS pour éviter une erreur SSL avec Synfony)
        maildev --web 1080 --smtp 1025 --hide-extensions STARTTLS
on peut maintenant y accéder depuis : http://localhost:1080/


pour tester les pages d'erreur en local :
    http://localhost:8086/_error/404





Needed for server :
    sudo apt-get install php7.4-xml





Entités :
    _ User :
        id
        email
        username
        roles
        password
        isVerified
        images oneToMany Image reversed by Image.postedBy

    _ ResetPasswordRequest :
        $id
        $user ManyToOne pour User

    _ Image :
        id
        slug
        name
        imageFile
        alt
        featuredForCategory OneToOne ? Category reversed by featuredImage
        featuredForMonster OneToOne ? Monster reversed by featuredImage
        postedBy ManyToOne ? User
        createdAt
        updatedAt (pour l'enregistrement via vichUploader)

    _ Movie :
        id
        slug
        name
        movieFile
        alt
        featuredForCategory OneToOne ? Category reversed by featuredMovie
        featuredForMonster OneToOne ? Monster reversed by featuredMovie
        postedBy ManyToOne ? User
        createdAt
        updatedAt

    _ Category :
        id
        name
        slug
        featuredImage ? OneToOne ? image reverted by featuredFor
        featuredMovie ? OneToOne ? movie reverted by featuredFor
        explanatoryText
        monsters OneToMany ? Monster.category

    _ Monster ? :
        id
        name
        slug
        nicknames (séparés par une ,) nullable
        gender nullable
        parents ManyToMany ? Monster nullable reverted by children ? alimenté pour voir l'arborescence ?
        children ManyToMany ? Monster nullable reverted by parents ?
        birthDay nullable
        arrivalDate nullable
        leavingDate nullable
        reasonForLeaving nullable
        explanatoryText wysiwyg ?(voir idées)
        featuredImage OneToOne ? image reverted by featuredFor
        featuredMovie ? OneToOne ? Movie nullable reverted by featuredFor
        images ManyToMany ? Image  non alimenté si father ou mother ?(possible ?)
        movies ManyToMany ? Movie nullable  non alimenté si father ou mother ?(possible ?)
        category ManyToOne ? Category reversed by Category.monters ?
        cossard ? int (par ex pour les parents de Max)






TODOS :
    _ refaire l'opération de demande de nouveau mot de passe et vérifier que la durée de validation d'une heure est correctement traduite !
    _ Virer les novalidate des templates de formulaires
    _ faire une page 404
        voir pour afficher un message supplémentaire
        par ex celui ci-dessous
    _ dans ResetPasswordController::reset()
        modifier le message pour la 404 si token === null
        pas certain en fait, car ici le user n'est pas passé par l'email
    _ dans RessetPasswordController::processSendingPasswordResetEmail()
        ceci : $mailer->send($email); devrait être dans un try catch
    _ si clic sur un vieux mail de demande de nouveau mot de passe :
        la deuxième partie du message d'erreur :
            Un problème est survenu pendant la requête de demande de nouveau mot de passe - The reset password link is invalid. Please try to reset your password again.
        ne semble pas être dans le projet (dans le bundle de symfonycasts ?)
        voir pour traduire le message ;)
            c'est dans ResetPasswordController::reset()






Idées :
    _ possibilité upload d'image avec attribution à plusieurs Monstre ?
    _ création d'un monstre :
        - possibilité d'enregistrer des images de plusieurs manières :
            - un bouton 'Ajouter une image' ouvre une pop-up contenant un formulaire de nouvelle image
            - un bouton 'Choisir une image' ouvre une pop-up contenant les images enregistrées
                ici un truc du genre vichUploader serait cool
        - possibilité d'en créer qui n'habite pas ici : donne la possibilité de créer les parents de Max par exemple
        - pour le texte explicatif :
            - soit un wysiwyg avec un template intégré
            - soit des champs supplémentaires :
                - taille et poids adulte
                - signes particuliers
                - ... ce qu'il aime/ n'aime pas, peurs ..
    _ page d'un monstre, plusieurs onglets :
        - infos principales + image vedette
        - texte explicatif
        - arbre généalogique (présent si renseigné)
        - galerie d'images et vidéos (si trop dur autre onglet)

(non vues) :
    _ création de catégorie ou de monstre, la featuredImage est obligatoire le featuredMovie ne l'est pas, mais sera pris en compte à la place de l'image si présent

Réponses :
    _ wysiwyg vide pour commencer







Faits :
        php bin/console make:user
modif du fichier pour ajouter $username

        php bin/console make:auth
modif de  App\Security\UserAuthenticator::onAuthenticationSuccess() pour rediriger vers la page d'accueil

        php bin/console make:registration-form
        composer require symfonycasts/verify-email-bundle
dans RegistrationController::register()
    modif du sujet de l'email de confirmation
dans RegistrationController::verifyUserEmail()
    - modif pour rediriger vers page d'accueil si email vérifié
    - il y a aussi l'envoi d'un message flash, donc modif template page d'accueil pour l'afficher
    - modif du formulaire d'enregistrement
    - modif des fichiers SecurityController, RegistrationFormType et register.html.twig

        php bin/console make:migration
        php bin/console doctrine:migrations:migrate
besoin d'un mail catcher, MailCatcher est cool mais il a besoin de ruby
    alors que MailDev s'installe via nodejs :
        npm install -g maildev
    modif du .env pour : MAILER_DSN=smtp://localhost:1025
    dans wamp, modif du fichier php.ini pour avoir :
        SMTP = localhost
        smtp_port = 1025
    (revoir en haut du fichier pour l'utilisation de maildev)

je veux que les users puissent modifier leur password

        composer require symfonycasts/reset-password-bundle
        php bin/console make:reset-password
        php bin/console make:migration
        php bin/console doctrine:migrations:migrate
    modif de ChangePasswordFormType.php
             ResetPasswordRequestFormType.php
    modif des 4 templates dans reset-password
    modif login.html.twig :
        - ajout d'un lien 'Mot de passe oublié'
        - traduction des textes et modif du formulaire
        - ajout affichage du flashMessage de réussite de modif de mot de passe (ResetPasswordCOntroller redirige vers app_login)
    modif de config/packages/translation.yaml pour avoir : default_locale: fr
        ainsi la durée d'utilisation du lien dans le mail de modif de mot de passe sera en fr

COMMIT ===> [User] entité, repo, migration, création de compte, modif de mdp, login et logout

COMMIT ===> [STYLE] création arborescence assets/styles + fichiers vides + création de 2 fichiers (home et security) via webpack encore + suppression app.css et son import dans app.js

je veux utiliser des slugs, des timestamps et charger des images

        composer require stof/doctrine-extensions-bundle
        composer require vich/uploader-bundle
    modif de config/packages/stof_doctrine_extensions.yam
    modif de config/services.yaml
    modif de config/packages\vich-uploader.yaml

        php bin/console make:entity
    => Image
    modif entité Image pour le slug, les timestamps et le chargement du fichier

        php bin/console make:migration
        php bin/console doctrine:migrations:migrate

COMMIT ===> [Image] création entité + repo + migration + ajout Gedmo et VichUploader

        php bin/console make:entity
    => Movie
    modif de config/services.yaml et de config/packages\vich-uploader.yaml pour ajouter le chemin d'upload des vidéos
    modif de l'entité Movie

        php bin/console make:migration
        php bin/console doctrine:migrations:migrate

COMMIT ===> [Movie] Création entité + repo + migration + ajout app.path.bestiaire_movies pour l'upload de vidéos

        php bin/console make:entity
    => Category
    modif de l'entité Category

        php bin/console make:migration
        php bin/console doctrine:migrations:migrate

COMMIT ===> [Category] Création entité + repo + migration

        php bin/console make:entity
    => Monster
    Modif de l'entité Monster

        php bin/console make:migration
        php bin/console doctrine:migrations:migrate

COMMIT ===> [Monster] Création entité + repo + migration

    Création et utilisation de /assets/styles/pages/_home.scss

COMMIT ===> [Style] Ajout feuille de style pour /home

        php bin/console make:Controller
    => AdminController
    Déplacement du controller dans /src/Controller/admin
    Création et utilisation de /assets/styles/pages/_admin.scss pour les pages /admin
    modif webpack config pour prise en compte du style

COMMIT ===> [APP] Création AdminController + template + style

    Ajout obligation d'être admin pour accéder à /admin dans /config/packages/secutity.yaml
Je veux utiliser des pages custom pour les erreurs type 40, 403 ou autres

        composer require symfony/twig-pack
    Création de config/routes/dev/framework.yaml
    J'y ajoute la route /_error pour pouvoir tester en dev les routes d'erreurs (ex : http://localhost:8000/_error/404)
    Création des templates error404 et error403 pour afficher ces erreurs
    Création des feuilles de style style-error.scss et pages/_error.scss
    modif webpack config pour prise en compte du style

COMMIT ===> [SECU] Ajout obligation ROLE_ADMIN pour accès pages /admin + pages custom error403 et Error 404 + style
